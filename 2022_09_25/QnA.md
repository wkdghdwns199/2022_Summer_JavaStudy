
### 📌 연산이 원자적이라는 말은 무슨 뜻인가? (스레드 100개가, 100번 더했을 때 합이 100이 아닌 이유)

    멀티 스레드는 동일 메모리 영역을 공유하며 메모리 공유에 대한 문제가 있다. 그렇기에 여러 스레드들이 동시에 공유 메모리에 
    접근하려고 하면 연산오류가 생길 것이다.
    예를 들어 스레드 100개가 공유 매모리인 count를 1번씩 조회했을 때 100이 되어야 하지만, 동시에 count 내부의 데이터를 조회하고 
    동시에 변한 데이터를 저장하기 때문에 올바른 값이 저장이 될 수 없는 것이다.

![image](https://user-images.githubusercontent.com/35947667/192131534-78df1cdf-0c5e-4336-9f23-ca5c085bedeb.png)

    그러므로 연산이 동시에 진행되는 것이 아닌, 순서대로 연산이 진행되거나 공유자원을  이런 연산 오류가 일어나지 않는다. 그래서
    "원자적 연산" 이 필요한 것이다.
    원자적 연산이란 -> 중단되지 않는 연산이라고 간단하게 생각해볼 수 있다. 정확하게 이야기 하면 연산의 단계가 하나 인것?
    
    이 원자적 연산을 멀티쓰레드로 돌아가는 프로세스에 반영하기 위해 자바에서 synchronized, volatile 등의 쓰레드 안정 (Thread Safe) 을 위한 키워드들이 있다.
  
    

### 📌 자바에서 동기화를 처리하는 방법?
    Syncronized를 사용해서 현재 실행되고 있는 메소드가 있다면 다른 메소드를 사용할 수 없게 만들어서 공유 메모리의 데이터를 동기화 할 수 있다.
    
    violatile 라는 키워드도 있는데, 이는 키워드가 붙은 해당 변수가 cpu 캐시에 저장되는 것을 막고, 매 번 메모리에서 값을 읽어오도록 설정 후 
    캐시 사용으로 인한 **데이터 불일치** 를 막습니다. (대신, 스레드가 하나는 write, 하나는 read 일때만)
    
    Concurrent 패키지, 를 쓰면 쓰레드 안전한 구조를 챙길 수 있는데, > 

### 📌 세마포어, 뮤텍스, 모니터
    운영체제의 동기화 기법이다!
    
    임계구역 > 공유변수 영역, 동시에 접근해서는 안되는 공유 자원을 접근하는 코드의 일부
    
    세마포어 -> Semaphores 프로세스간의 시그널 를 주고받기 위해 사용되는 정수 값, 리소스의상태를 나타내는 카운터, 세가지 원자적인 연산만을 지원
    initialize, increment, decrement
    
    뮤텍스 -> MUTual EXclusion 으로 상호배제 임계 구역을 가진 스레드들의 실행 시간을 서로 겹치지 않게 단독으로 실행하게 하는 기술
    - 프로세스들의 공유 리소스에 대한 접근을 조율하기 위해 Locking과 Unlocking을 사용합니다. 뮤텍스 객체를 두 스레드가 동시에 사용할 수 없습니다.
    
    
    베타 동기 ->  하나의 스레드만 공유자원에 접근할 수 있게 하는 작용을하는 공간
    조건 동기 -> 진입 스레드가 블록되면서 새 스레다가 진입 가능하게 하는 공간
    모니터 -> 하나의 프로세스 내의 다른 스레드 간 동기화를 위한 것, 베타 동기와 조건동기의 역할을 한다.
    
    세마포어와 뮤텍스의 차이
    - 세마포어는 뮤텍스가 됨, 뮤텍스는 세마포어가 안됨
    - 세마포어는 소유 불가능, 뮤텍스는 소유주가 그에 대한 책임을잠
    - 뮤텍스는 소유하고 있는 스레드가 뮤텍스 해제 가능, 세마포어는 소유하지 않고 있는 스레드가 세마포어 해제 가능
    - 세마포어 는 시스템 범위에 걸쳐져 있음, 뮤텍스는 프로세스 범위를 가지고 프로그램이 종료될 때 자동으로 지워짐
    - 세마포어는 동기화 대상이 여러개 일 때, 뮤텍스는 동기화 대상이 오로지 하나 일때
    
    세마포어와 모니터 차이 
    - 세마포어를 사용할 때 Application에서 스레드가 종료될 때 락을 해제하는 부분에 주의
    공유자원을 써야 하는 다른 어떤 쓰레드도 더 이상 진행이 안됨
    모니터 > 공유자원에 접근할 수 있는 키의 획득과 해제를 모두 처리해서 간단하지만 , 세마포어는 직접 키 해제와 공유자원 접근 처리르 해주어야 함
    
    
    https://dev-splin.github.io/cs(computer%20science)/operating%20system/OS-Mutex,Semaphore,Monitor/
    
    
 

### 📌 Synchronized 를 걸면 무엇이 안 좋을까요? Volatile 는 뭐하는 놈일까요?)
    다른 스레드들이 기다려야 하므로 프로그램의 진행이 느려짐
    Volatile 는 CPU 캐시 사용을 막는 키워드이다. 
    
![image](https://user-images.githubusercontent.com/35947667/192136677-74fdc214-2e44-4f8f-9f12-d0ca5d88ff33.png)

    메인 메모리에 반영이 되지 않는 상태이기 때문에 Thread-2 는 count 값을 계속 읽어오지만 0 을 가져오는 문제가 발생한다
    그러므로 volatile 를 쓰면 메인 메모리에 값이 적용되므로, 다른 스레드의 캐시에서 올바른 값을 가져올 수 있다.
    
    
    
### 📌 JDK 1.5 Concurreny AtomicLong
    원자적 연산을 지원하여 쓰레드 안정을 지원하는 라이브러리!
    1.5부터 지원.


### 📌 Lock splitting vs lock striping
    Lock splitting - 객체나 배열등을 이용해서 Lock 을 여러개로 쪼개는 것
    Lock striping - 각자의 Lock들을 자료 구조의 부분들에서 쓰는 것
    
### 📌 자바 GC 에 대해서 아는 걸 다 말해보세요 (검색 키워드 TLAB (Thread Local Allocation Buffer) Weak Reference, G1GC)
    가바지 컬렉터는 Heap 메모리에서 동적으로 할당했던 영역 중 안 쓰는 메모리 공간을 정리해주는 방법이다. 
    JVM 의 GC 는 약한 세대 가설 (weak generational hypothesis ) 을 기반으로 설계되어 있다.
      - 대부분의 객체는 금방 접근 불가능한 상태가 된다.
      - 오래된 객체가 젊은 객체를 참조하는 경우는 드물다
      
     이 가설을 적용시켜, GC 는 모든 객체를 검사해가며 메모리를 해제하지 않는다.
     객체가 생성되면 GC 의 Young 영역에 할당시키고, 해당 영역이 가득차면 다음 영역으로 이동시켜 메모리를 정리.
     
     Young Generation 영역
     새롭게 생성된 객체 대부분이 이 영역에 위치
     Eden 영역에서 시작, 만약 객체가 너무 커서 못 들어가면 바로 Old
     가득차면 minor gc 발생, 참조가 살아있는 객체만 남기고, 나머지는 다 삭제
     살아있는 객체들 중 오래 사용하겠다고 판단된 객체들은 Old 영역으로 간다
     
     
     TLAB - GC 도 결국 JVM 에게 스레드를 할당받아 동작하는 프로그램
     성능을 높이기 위해 GC 에 여러 스레드를 할당 > 동기화 문제, 블로킹 발생
     JVM 은 Young 에서 처음 사용되는 Eden 영역을 여러 버퍼로 나누어, 스레드 별로 별도의 공간을 가지도록 함
     이를 Thread local 메모리라고 한다. 
     
     Serial, Parallel, CMS[Concureent Mark & Sweep], G1[GarbageFirst] 中
     
      G1GC - 5가지 GC 중 성능이 가장 좋음 > G1GC 는 바둑판의 각 영역에 객체를 할당하고 GC 실행, 해당 영역이 꽉차면 다른 
      영역에서 객체를 할당하고 GC 실행
      지금 까지의 Young 세가지 영역에서 데이터가 Old 영역으로 이동하는 단계가 사라진 GC 방식은 생각 X
      
### 📌 JVM 에서 primitive 타입의 autoboxing 이란 무엇을 말하는 걸까요?
        

### 📌 final 키워드를 메서드와 클래스에 선언하는 건 무슨 의미가 있나요?

### 📌 자바에서 불변리스트를 만드는 방법

### 📌 System.out.println() 으로 모든 로그를 찍는다면, 어떤 문제가 발생할까요?

### 📌 아래 코드에서 getMessage() 를 실행시키면 어떤 결과가 반환될까요?


![image](https://user-images.githubusercontent.com/35947667/192131014-7d12ec82-0d3d-4fbe-9b8e-a82357e1fd1d.png)
